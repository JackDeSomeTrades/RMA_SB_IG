<robot
  name="gripper_base"
  xmlns:xacro="http://ros.org/wiki/xacro">

  <!-- extend xacro functionality with macros of urdf_utils -->
  <xacro:include filename="$(find urdf_utils)/urdf/properties/defaults.xacro" />
  <xacro:include filename="$(find urdf_utils)/urdf/origin.xacro" />
  <xacro:include filename="$(find urdf_utils)/urdf/limit.xacro" />
  <xacro:include filename="$(find urdf_utils)/urdf/parent.xacro" />

  <!-- Load default joint data from yaml files in config directory. -->
  <!-- If additional data is present in cman, use it to overwrite the default one. -->
  <xacro:property
      name="cman_joints"
      value="${load_cman('conveyor_gripper_1_0_description', 'conveyor_gripper_1_0_description.yaml', '')}" />

  <!-- start of manually added component -->
  <link
    name="gripper_casing_link">
    <inertial>
      <origin
        xyz="0.0566248951556863 -2.00332299900564E-06 0.0887482618543158"
        rpy="0 0 0" />
      <mass
        value="1.89695657621472" />
      <inertia
        ixx="0.161916446032723"
        ixy="-1.36885644157184E-06"
        ixz="-0.00162211448512088"
        iyy="0.0361164097412647"
        iyz="2.44138906904143E-07"
        izz="0.19593677406372" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://conveyor_gripper_1_0_description/meshes/gripper_casing_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.698039215686274 0.698039215686274 0.698039215686274 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://conveyor_gripper_1_0_description/meshes/gripper_casing_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="gripper_base_to_casing"
    type="fixed">
    <!-- TODO: fix gripper_base_duplicate in 1015005 -->
    <origin
      xyz="-0.3105 0 0.0335"
      rpy="0 0 0" />
    <parent
      link="gripper_base_link" />
    <child
      link="gripper_casing_link" />
  </joint>

  <!-- start of Optical frames -->
  <link
    name="gripper_depth_camera_link">
    <xacro:point_inertial
      mass="0.100" />
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://conveyor_gripper_1_0_description/meshes/gripper_depth_camera_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
  </link>
  <joint
    name="gripper_base_to_depth_camera"
    type="fixed">
    <origin
      xyz="-0.44287 0.0055 0.23766"
      rpy="1.22173047639602 -1.14748667623603E-15 1.57079632679489" />
    <parent
      link="gripper_base_link" />
    <child
      link="gripper_depth_camera_link" />
  </joint>

  <link
    name="gripper_depth_camera_depth_optical_frame" />
  <joint
    name="gripper_depth_camera_depth_optical"
    type="fixed">
    <xacro:origin_from_config config="${cman_joints}" joint_name="gripper_depth_camera_depth_optical" />
    <xacro:parent_from_config config="${cman_joints}" joint_name="gripper_depth_camera_depth_optical" />
    <child
      link="gripper_depth_camera_depth_optical_frame" />
  </joint>
  <link
    name="gripper_depth_camera_rgb_optical_frame" />
  <joint
    name="gripper_depth_camera_rgb_optical"
    type="fixed">
    <xacro:origin_from_config config="${cman_joints}" joint_name="gripper_depth_camera_rgb_optical" />
    <xacro:parent_from_config config="${cman_joints}" joint_name="gripper_depth_camera_rgb_optical" />
    <child
      link="gripper_depth_camera_rgb_optical_frame" />
  </joint>


  <!-- start of autogenerated component -->
  <link
    name="gripper_base_link">
    <inertial>
      <origin
        xyz="-0.0291964947014054 0.00185928064465478 0.0571112330957645"
        rpy="0 0 0" />
      <mass
        value="4.43604003962018" />
      <inertia
        ixx="0.00848228102782677"
        ixy="-0.00397948149068779"
        ixz="-0.000197943829855595"
        iyy="0.0294439378703873"
        iyz="-4.43345350995509E-05"
        izz="0.0375329931767107" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://conveyor_gripper_1_0_description/meshes/gripper_base_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://conveyor_gripper_1_0_description/meshes/gripper_base_link.STL" />
      </geometry>
    </collision>
  </link>
  <link
    name="gripper_base_x_link">
    <xacro:point_inertial mass="1.0" />
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://conveyor_gripper_1_0_description/meshes/gripper_base_x_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://conveyor_gripper_1_0_description/meshes/gripper_base_x_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="gripper_base_x"
    type="prismatic">
    <origin
      xyz="-0.3105 0 0.0334999999999999"
      rpy="0 0 0" />
    <parent
      link="gripper_base_link" />
    <child
      link="gripper_base_x_link" />
    <axis
      xyz="1 0 0" />
    <xacro:limit_from_config config="${cman_joints}" joint_name="gripper_base_x" />
  </joint>

</robot>
