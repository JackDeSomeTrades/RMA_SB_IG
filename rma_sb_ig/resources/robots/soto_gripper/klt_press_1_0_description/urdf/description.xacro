<robot
  name="klt_press_1_0_description"
  xmlns:xacro="http://ros.org/wiki/xacro">

  <!-- extend xacro functionality with macros of urdf_utils -->
  <xacro:include filename="$(find urdf_utils)/urdf/properties/defaults.xacro" />
  <xacro:include filename="$(find urdf_utils)/urdf/limit.xacro" />
  <xacro:include filename="$(find urdf_utils)/urdf/origin.xacro" />
  <xacro:include filename="$(find urdf_utils)/urdf/parent.xacro" />

  <!-- Load default joint data from yaml files in config directory. -->
  <!-- If additional data is present in cman, use it to overwrite the default one. -->
  <xacro:property
      name="cman_press_joints"
      value="${load_cman('klt_press_1_0_description', 'klt_press_1_0_description.yaml', '')}" />

  <xacro:arg name="standalone" default="false"/>
  <xacro:property name="standalone" value="$(arg standalone)"/>

  <!-- Start of manually added component -->
  <xacro:unless value="${standalone}">
    <joint
      name="press_base_to_manipulator_base"
      type="fixed">
      <origin
        xyz="0 0 1.9965"
        rpy="0 0 0" />
      <parent
        link="manipulator_base_link" />
      <child
        link="press_base_link" />
    </joint>
  </xacro:unless>

  <!-- use for the mimics -->
  <link
    name="press_jaw_link">
    <inertial>
      <origin
        xyz="0.000015 -0.007431 0.049507"
        rpy="0 0 0" />
      <mass
        value="2.0" />
      <inertia
        ixx="${10*0.00192083}"
        ixy="0.0"
        ixz="0.0"
        iyy="${10*0.04744167}"
        iyz="0.0"
        izz="${10*0.04635417}" />
    </inertial>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://klt_press_1_0_description/meshes/press_jaw_right_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="press_jaw"
    type="prismatic">
    <origin
      xyz="0 -0.319 -0.135"
      rpy="0 0 0" />
    <parent
      link="press_base_link" />
    <child
      link="press_jaw_link" />
    <axis
      xyz="0 1 0" />
    <xacro:limit_from_config config="${cman_press_joints}" joint_name="press_jaw" />
  </joint>

  <!-- start of Optical frames -->
  <link
    name="press_depth_camera_depth_optical_frame" />
  <joint
    name="press_depth_camera_depth_optical"
    type="fixed">
    <xacro:origin_from_config config="${cman_press_joints}" joint_name="press_depth_camera_depth_optical" />
    <xacro:parent_from_config config="${cman_press_joints}" joint_name="press_depth_camera_depth_optical" />
    <child
      link="press_depth_camera_depth_optical_frame" />
  </joint>
  <link
    name="press_depth_camera_rgb_optical_frame" />
  <joint
    name="press_depth_camera_rgb_optical"
    type="fixed">
    <xacro:origin_from_config config="${cman_press_joints}" joint_name="press_depth_camera_rgb_optical" />
    <xacro:parent_from_config config="${cman_press_joints}" joint_name="press_depth_camera_rgb_optical" />
    <child
      link="press_depth_camera_rgb_optical_frame" />
  </joint>

  <!-- Start of autogenerated component -->
  <link
    name="press_base_link">
    <inertial>
      <origin
        xyz="0.000372 0.000122 -0.006491"
        rpy="0 0 0" />
      <mass
        value="10.0" />
      <inertia
        ixx="${10*0.53921333}"
        ixy="0.0"
        ixz="0.0"
        iyy="${10*0.28044333}"
        iyz="0.0"
        izz="${10*0.80789667}" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://klt_press_1_0_description/meshes/press_base_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.698039215686274 0.698039215686274 0.698039215686274 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://klt_press_1_0_description/meshes/press_base_link.STL" />
      </geometry>
    </collision>
  </link>
  <link
    name="press_jaw_right_link">
    <inertial>
      <origin
        xyz="0.000015 -0.007431 0.049507"
        rpy="0 0 0" />
      <mass
        value="2.0" />
      <inertia
        ixx="${10*0.00192083}"
        ixy="0.0"
        ixz="0.0"
        iyy="${10*0.04744167}"
        iyz="0.0"
        izz="${10*0.04635417}" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://klt_press_1_0_description/meshes/press_jaw_right_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.250980392156863 0.250980392156863 0.250980392156863 1" />
      </material>
    </visual>
  </link>
  <joint
    name="press_base_to_jaw_right"
    type="prismatic">
    <origin
      xyz="0 -0.319 -0.135"
      rpy="1.18057130309098E-16 4.52630720180711E-33 -3.83399731126472E-17" />
    <parent
      link="press_base_link" />
    <child
      link="press_jaw_right_link" />
    <xacro:limit_from_config config="${cman_press_joints}" joint_name="press_jaw" />
    <mimic
      joint="press_jaw"
      multiplier="1.0" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="press_jaw_left_link">
    <inertial>
      <origin
        xyz="0.000015 -0.007431 0.049507"
        rpy="0 0 0" />
      <mass
        value="2.0" />
      <inertia
        ixx="${10*0.00192083}"
        ixy="0.0"
        ixz="0.0"
        iyy="${10*0.04744167}"
        iyz="0.0"
        izz="${10*0.04635417}" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://klt_press_1_0_description/meshes/press_jaw_left_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.698039215686274 0.698039215686274 0.698039215686274 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://klt_press_1_0_description/meshes/press_jaw_left_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="press_base_to_jaw_left"
    type="prismatic">
    <origin
      xyz="0 0.319 -0.135"
      rpy="0 0 3.14159265358979" />
    <parent
      link="press_base_link" />
    <child
      link="press_jaw_left_link" />
    <xacro:limit_from_config config="${cman_press_joints}" joint_name="press_jaw" />
    <mimic
      joint="press_jaw"
      multiplier="1.0" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="press_light_barrier_rear_receiver_link">
    <xacro:point_inertial
      mass="0.030" />
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://klt_press_1_0_description/meshes/press_light_barrier_rear_receiver_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
  </link>
  <joint
    name="press_to_rear_receiver"
    type="fixed">
    <origin
      xyz="-0.09005 -0.34683 -0.1102"
      rpy="-1.5707963267949 0 1.5707963267949" />
    <parent
      link="press_base_link" />
    <child
      link="press_light_barrier_rear_receiver_link" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link
    name="press_light_barrier_front_receiver_link">
    <xacro:point_inertial
      mass="0.030" />
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://klt_press_1_0_description/meshes/press_light_barrier_front_receiver_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
  </link>
  <joint
    name="press_to_front_receiver"
    type="fixed">
    <origin
      xyz="0.09005 -0.34683 -0.1102"
      rpy="-1.5707963267949 -1.51635886423709E-33 1.5707963267949" />
    <parent
      link="press_base_link" />
    <child
      link="press_light_barrier_front_receiver_link" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link
    name="press_light_barrier_rear_emitter_link">
    <xacro:point_inertial
      mass="0.030" />
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://klt_press_1_0_description/meshes/press_light_barrier_rear_emitter_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
  </link>
  <joint
    name="press_to_rear_emitter"
    type="fixed">
    <origin
      xyz="-0.090049999999999 0.34683 -0.1102"
      rpy="-1.5707963267949 0 -1.5707963267949" />
    <parent
      link="press_base_link" />
    <child
      link="press_light_barrier_rear_emitter_link" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link
    name="press_light_barrier_front_emitter_link">
    <xacro:point_inertial
      mass="0.030" />
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://klt_press_1_0_description/meshes/press_light_barrier_front_emitter_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
  </link>
  <joint
    name="press_to_front_emitter"
    type="fixed">
    <origin
      xyz="0.090050000000001 0.34683 -0.1102"
      rpy="-1.5707963267949 0 -1.5707963267949" />
    <parent
      link="press_base_link" />
    <child
      link="press_light_barrier_front_emitter_link" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link
    name="press_upper_limit_link">
    <xacro:point_inertial
      mass="0.100" />
  </link>
  <joint
    name="press_base_to_upper_limit"
    type="fixed">
    <origin
      xyz="0 0 -0.083"
      rpy="0 0 0" />
    <parent
      link="press_base_link" />
    <child
      link="press_upper_limit_link" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link
    name="press_depth_camera_link">
    <xacro:point_inertial
      mass="0.100" />
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://klt_press_1_0_description/meshes/press_depth_camera_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
  </link>
  <joint
    name="press_base_to_depth_camera"
    type="fixed">
    <origin
      xyz="0.135499920277204 -0.0200000104977874 -0.0148"
      rpy="-3.14159265358979 -5.28214878924751E-16 1.57079480536764" />
    <parent
      link="press_base_link" />
    <child
      link="press_depth_camera_link" />
    <axis
      xyz="0 0 0" />
  </joint>
</robot>